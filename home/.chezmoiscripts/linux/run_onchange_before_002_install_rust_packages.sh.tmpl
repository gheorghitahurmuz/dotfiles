#!/usr/bin/env bash

set -eufo pipefail

command -v cargo version >/dev/null 2>&1 || \
  (echo '⚙️  Installing Rust' && curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y && source "$HOME/.cargo/env")

{{ $crates := list "bat"
    "eza"
    "fnm"
    "ripgrep"
    "starship"
    "sheldon"
    "zoxide"
-}}

command -v cargo version >/dev/null 2>&1 &&
    {{ range ($crates | sortAlpha | uniq) }}
    cargo install "{{ . }}" --locked
    {{ end }}
